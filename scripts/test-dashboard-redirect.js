// Script para probar la redirección del dashboard
// Ejecutar con: node scripts/test-dashboard-redirect.js

console.log('🧪 Prueba de redirección del dashboard')
console.log('=====================================')
console.log('')
console.log('📋 Escenarios a probar:')
console.log('')
console.log('1. 🔐 Usuario no autenticado:')
console.log('   - URL: http://localhost:3000/member/dashboard')
console.log('   - Esperado: Redirige a /login')
console.log('')
console.log('2. 👤 Usuario autenticado con perfil incompleto (sin pago):')
console.log('   - URL: http://localhost:3000/member/dashboard')
console.log('   - Esperado: Redirige a /member/subscription-plans')
console.log('')
console.log('3. 💳 Usuario autenticado con perfil incompleto (con pago):')
console.log('   - URL: http://localhost:3000/member/dashboard?success=true&plan=premium')
console.log('   - Esperado: Redirige a /member/complete-profile-after-payment')
console.log('')
console.log('4. ✅ Usuario autenticado con perfil completo:')
console.log('   - URL: http://localhost:3000/member/dashboard')
console.log('   - Esperado: Permanece en /member/dashboard')
console.log('')
console.log('🔍 Logs a verificar:')
console.log('   - "🏠 Ruta del dashboard detectada: /member/dashboard"')
console.log('   - "👤 Usuario autenticado en dashboard: {userId}"')
console.log('   - "📋 Estado del perfil en dashboard: {profileCompleted: false/true}"')
console.log('   - "💳 Viene de pago exitoso: true/false"')
console.log('   - "💳 Usuario viene de pago exitoso con perfil incompleto, redirigiendo a completar perfil"')
console.log('   - "✅ Perfil completo, permitiendo acceso al dashboard"')
console.log('')
console.log('🚀 Para probar:')
console.log('   1. Ejecutar: npm run dev')
console.log('   2. Abrir: http://localhost:3000/member/dashboard?success=true&plan=premium')
console.log('   3. Verificar logs en la consola del servidor')
console.log('   4. Verificar redirección a /member/complete-profile-after-payment')
console.log('')
console.log('✅ ¡Listo para probar!')
